## ~/.Renviron points to this file locally

## Set options
options(
    stringsAsFactors = FALSE,
    scipen = 5,
    datatable.print.topn = 10
)

## Load custom code to separate env on search path.
.customEnv <- new.env()
with(.customEnv,  {
file.dl <- function(urls) {
    ## wget returns a non-zero exit code on failure; curl doesn't.
    tmp <- lapply(urls, function(u) {
        tf <- tempfile()
        exitcode <- suppressWarnings(
            download.file(u, tf, method = "wget", quiet = TRUE))
        if(exitcode != 0) {
            warning(sprintf("There was an error downloading from %s", u),
                call. = F)
            return(NULL)
        }
        tf
    })
    unlist(tmp)
}
paths <- c(
    "utils/common.R",
    "utils/ggplot.R"
)
srcfiles <- file.dl(paste0(
    "https://raw.githubusercontent.com/dzeber/work-tools/master/R/", paths))
for(f in srcfiles) source(f, local = TRUE)
rm(f, srcfiles, paths)
})
attach(.customEnv)
rm(.customEnv)

## Load other packages.
library(data.table)
library(Hmisc)
library(ggplot2)

# .First <- function() {
#
# }

